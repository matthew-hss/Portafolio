<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition template="/templates/main.xhtml">
        <ui:define name="content">
            <p:outputPanel id="panelVoucherCountAdmin" rendered="#{sessionBean.adminRole || sessionBean.staffRole}" styleClass="col-xs-12">

                <p:panel id="panelVoucherCount" style="overflow: hidden;" header="${msg.voucherCount}">
                    <div>
                        <p:outputPanel id="panelForm" >
                            <h:form id="formVoucherCount" enctype="multipart/form-data">
                                <div class="col-xs-12">
                                    <h2>
                                        <h:outputText value="${msg.report}" />
                                    </h2>
                                </div>
                                <div class="col-xs-12 col-sm-4">
                                    <p:outputLabel for="mealService" value="${msg.mealService}" />
                                    <p:selectOneMenu id="mealService" value="#{voucherCountAdminBean.selectedMealService}" converter="BaseBeanConverter">
                                        <f:selectItem itemLabel="${msg.selectMealService}" noSelectionOption="true" value="#{null}" itemDisabled="true"/>
                                        <f:selectItems value="#{voucherCountAdminBean.mealServices}" var="m" itemLabel="#{m.product.name}" itemValue="#{m}"/>
                                    </p:selectOneMenu>
                                    <p:message for="mealService" display="tooltip"/>                          
                                </div>
                                <div style="padding-top: 11px;" class="col-xs-12 col-sm-4">
                                    <p:commandButton id="btnCount" action="#{voucherCountAdminBean.process}" value="${msg.check}" update=":formVoucherCount panelData" />                     
                                </div>
                                <div class="col-xs-12 col-sm-4">
                                    <p:outputLabel for="panelData" value="${msg.quantity}" />
                                    <p:outputPanel id="panelData">
                                        <p:inputText value="${voucherCountAdminBean.count}" readonly="true" style="text-align: center;" />
                                    </p:outputPanel>                   
                                </div>
                                <div class="col-xs-12 col-sm-6 col-sm-offset-right-3 col-sm-offset-3">
                                    <p:messages id="messages" showDetail="false" autoUpdate="true" closable="true" />
                                </div>
                            </h:form>
                        </p:outputPanel>
                    </div>
                </p:panel>
            </p:outputPanel>
            <p:outputPanel id="panelFunctionaryGeneral" rendered="#{sessionBean.userRole}" styleClass="col-xs-12">
                <div style="text-align:center;">
                    <h1>Error 403</h1><h2>Acceso no permitido</h2>
                </div>
            </p:outputPanel>
        </ui:define>
    </ui:composition>
</html>
